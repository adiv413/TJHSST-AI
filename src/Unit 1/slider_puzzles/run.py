# This file automatically tests my solution with 55 test cases
# Usage: python run.py [solution]
# @param solution: python file containing the solution

import subprocess
import time

start = time.time()
args = ['12345678_', '1245837_6 1245837_6', '_DCGEBHAF DCB_GEHAF', '835_26417 8352_6417', '2453871_6 245138_67', '5672_4831 56782_314', '53_264178 2536_4178', '5241_6738 54_126738', '452_73168 52347_168', '_23145786', '7165_4382 7645_1382', '51_836247 5_6817234', '1_8534672 1_2345678', '6134_2578 6_3514782', '75642813_ 7684_3152', '4762_8153 846_73215', '3461_2758', '72648_315 2463_7158', '53641_728 56823_417', '81_276354 8742653_1', '583712_64 _81243576', '36142857_ 3_1865274', '1862_5743 _63285174', '7425_8361 7231486_5', '657_14823 6_1873524', '15627834_ 2_7614538', '4725138_6 5_6431728', '3452_7186 2546817_3', '348765_12', '8371_5642 54632_178', 'A93D81E06_B247C5 A93D81E06_B247C5', '3MFQ5IYOD4TLWE9HP8XR2U_BKC7VG1NJ0SA6 3MFQ5IYOD4TLWE9HP8XR2_UBKC7VG1NJ0SA6', 'BA98D6_7E31C0524 BA8_D697E31C0524', 'B58CE0463_71A9D2 B58CE046_371A9D2', '8OC5USJPBY_RGWFED4V3710Q26THAL9KMNIX 8OC5USJPBYDRGWFE_4V3710Q26THAL9KMNIX', '48637_521 1732_8645', '785461_32 65_432178', '36718542_ 83475_261', '8_4357261 7863421_5', '573_81426 72348_561', '1_2837546 8763_2154', '258173_64 1684_3275', '126_48753 58276_134', '418256_73 23_147568', '87142365_ 275_43618', '4_3861275 752438_16', '_86517432 87_356412', '836275_41 146_37825', '74256_381 35476_218', '74_251386 27586_431', '32_754861 5713824_6', '873_25614 _26513874', '2456_3817 82_463517', '37_852641 1475_2386']

lenghts_str = "0 0 5 1 5 5 4 2 4 4 4 5 -1 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 0 1 2 1 1 25 20 -1 -1 14 -1 22 22 -1 -1 27 -1 17 -1 19 21 -1 -1 20"

lengths = lenghts_str.split(" ")

for i in range(len(args)):
    ret = subprocess.check_output(['python', 'slider_puzzles.py', *(args[i].split(' '))]).decode()
    num_steps = ret.index('Steps: ') + len('Steps: ')
    steps = ret[num_steps : num_steps + 1 if ret[num_steps + 2] == '\n' else num_steps + 2]
    if steps != lengths[i]:
        print('[ERROR]', end=' ')
    print('Test case #', i, ': ', steps, ' ', lengths[i])
    
print(time.time() - start)

# Test Cases:
# '12345678_' => Path len 0  
# '1245837_6 1245837_6' => Path len 0 
# '_DCGEBHAF DCB_GEHAF' => Path len 5 
# '835_26417 8352_6417' => Path len 1 
# '2453871_6 245138_67' => Path len 5 
# '5672_4831 56782_314' => Path len 5 
# '53_264178 2536_4178' => Path len 4 
# '5241_6738 54_126738' => Path len 2 
# '452_73168 52347_168' => Path len 4 
# '_23145786' => Path len 4 
# '7165_4382 7645_1382' => Path len 4 
# '51_836247 5_6817234' => Path len 5 
# '1_8534672 1_2345678' => Path len -1 
# '6134_2578 6_3514782' => Path len 7 
# '75642813_ 7684_3152' => Path len 8 
# '4762_8153 846_73215' => Path len 9 
# '3461_2758' => Path len 10 
# '72648_315 2463_7158' => Path len 11 
# '53641_728 56823_417' => Path len 12 
# '81_276354 8742653_1' => Path len 13 
# '583712_64 _81243576' => Path len 14 
# '36142857_ 3_1865274' => Path len 15 
# '1862_5743 _63285174' => Path len 16 
# '7425_8361 7231486_5' => Path len 17 
# '657_14823 6_1873524' => Path len 18 
# '15627834_ 2_7614538' => Path len 19 
# '4725138_6 5_6431728' => Path len 20 
# '3452_7186 2546817_3' => Path len 21 
# '348765_12' => Path len 22 
# '8371_5642 54632_178' => Path len 23 
# 'A93D81E06_B247C5 A93D81E06_B247C5' => Path len 0 
# '3MFQ5IYOD4TLWE9HP8XR2U_BKC7VG1NJ0SA6 3MFQ5IYOD4TLWE9HP8XR2_UBKC7VG1NJ0SA6' => Path len 1 
# 'BA98D6_7E31C0524 BA8_D697E31C0524' => Path len 2 
# 'B58CE0463_71A9D2 B58CE046_371A9D2' => Path len 1 
# '8OC5USJPBY_RGWFED4V3710Q26THAL9KMNIX 8OC5USJPBYDRGWFE_4V3710Q26THAL9KMNIX' => Path len 1 
# '48637_521 1732_8645' => Path len 25 
# '785461_32 65_432178' => Path len 20 
# '36718542_ 83475_261' => Path len -1 
# '8_4357261 7863421_5' => Path len -1 
# '573_81426 72348_561' => Path len 14 
# '1_2837546 8763_2154' => Path len -1 
# '258173_64 1684_3275' => Path len 22 
# '126_48753 58276_134' => Path len 22 
# '418256_73 23_147568' => Path len -1 
# '87142365_ 275_43618' => Path len -1 
# '4_3861275 752438_16' => Path len 27 
# '_86517432 87_356412' => Path len -1 
# '836275_41 146_37825' => Path len 17 
# '74256_381 35476_218' => Path len -1 
# '74_251386 27586_431' => Path len 19 
# '32_754861 5713824_6' => Path len 21 
# '873_25614 _26513874' => Path len -1 
# '2456_3817 82_463517' => Path len -1 
# '37_852641 1475_2386' => Path len 20 